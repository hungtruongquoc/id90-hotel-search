<div nz-row>
  <div nz-col [nzSpan]="16" [nzOffset]="4">
    <app-hotel-filter (searchClicked)="getHotelList($event)"></app-hotel-filter>
    <div nz-row class="result-list-container" [nzGutter]="8">
      <div nz-col [nzSpan]="6">
        <h5>Hotel List</h5>
      </div>
      <div nz-col [nzSpan]="18">
        <h5>Map</h5>
      </div>
    </div>
    <div nz-row class="result-list-container" [nzGutter]="8">
      <div nz-col [nzSpan]="6">
        <app-hotel-list [hotels]="hotelList$ | async" [metaInfo]="hotelMeta$ | async" [highlightedHotel]="selectedHotel"
                        (pageChanged)="getNewPageHotelList($event)"></app-hotel-list>
      </div>
      <div nz-col [nzSpan]="18">
        <agm-map [zoom]="!!(hotelList$ | async) ? 14 : 8"
                 [latitude]="!!(hotelList$ | async) ? (hotelList$ | async)[0].location.latitude : null"
                 [longitude]="!!(hotelList$ | async) ? (hotelList$ | async)[0].location.longitude : null">
          <agm-marker *ngFor="let hotel of (hotelList$ | async)" (markerClick)="highlightHotel($event)"
                      [latitude]="hotel.location.latitude" [label]="selectedHotel === hotel.id ? hotel.name : null"
                      [longitude]="hotel.location.longitude" [title]="[hotel.name, hotel.id].join(';')">
            <agm-info-window [disableAutoPan]="true" [isOpen]="hotel.id === selectedHotel">
              <img [src]="hotel.image" *ngIf="hotel.id === selectedHotel">
            </agm-info-window>
          </agm-marker>
        </agm-map>
      </div>
    </div>
  </div>
</div>
